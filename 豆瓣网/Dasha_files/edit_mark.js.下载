Do(function(){function t(){c.show(),r.show(),o.hide(),a.hide(),i()}function e(){c.hide(),r.hide(),o.css("display","inline")}function n(t){a.text(t).show()}function i(){$.trim(r.text()).length?c.text("编辑"):c.text("添加备注")}if($("#remarkMod").length){var r=$("#remarkDisplay"),c=$("#editRemark"),o=c.next(),a=$("#remarkError");i(),c.click(function(){e()}),o.submit(function(e){e.preventDefault();var i="/j/contact/remark",c=o.find(".people").val(),a=o.find("#remarkInput").val();a=$.trim(a),$.postJSON_withck(i,{people:c,remark:a},function(e){e.result===!0?(e.msg.length?r.text("（备注："+e.msg+"）"):r.text(""),t()):n(e.msg)})}),o.find(".cancel").click(function(){t()})}});